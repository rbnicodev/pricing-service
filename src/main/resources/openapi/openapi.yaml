openapi: 3.0.3
info:
  title: Pricing Service 0.0.1
  description: |-
    This is a simple project to implement the development of an APIRest with Java 17 and Spring developed with hexagonal architecture. 
    As an example, this simple documentation has been created with the only existing endpoint. [This will be updated if features are added later].
  termsOfService: http://swagger.io/terms/
  contact:
    email: rubenmsanchis.dev@gmail.com
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
  version: 1.0.11
externalDocs:
  description: Pricing Service Repository
  url: https://github.com/rbnicodev/pricing-service
servers:
  - url: localhost:8080/api/prices
tags:
  - name: Prices
    description: Manage prices
paths:
  /prices:
    get:
      tags:
        - Prices
      summary: Find prices by brand, product and date
      description: The price may vary depending on the date
      operationId: findPrices
      parameters:
        - name: productId
          in: query
          description: Product identifier for which you want to check the price
          required: true
          explode: true
          schema:
            type: string
        - name: brandId
          in: query
          description: Brand identifier for which you want to check the price
          required: true
          explode: true
          schema:
            type: string
        - name: date
          in: query
          description: Date for which you want to consult the price. If null, the date and time of execution will be assumed
          required: false
          explode: true
          schema:
            type: string
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Price'
        '400':
          description: Invalid status value


components:
  schemas:
    Price:
      type: object
      properties:
        productId:
          type: integer
          format: int64
        brandId:
          type: integer
          format: int64
        priceListId:
          type: integer
          format: int64
        startDate:
          type: string
          format: date-time
        endDate:
          type: string
          format: date-time
        price:
          type: number
          format: float